    # .github/workflows/jekyll.yml

    name: Build and Deploy Jekyll site to GitHub Pages

    on:
      push:
        branches:
          - main # 或者您的默认分支名，例如 master
      workflow_dispatch: # 允许手动触发此 workflow

    jobs:
      build_and_deploy:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout 🛎️
            uses: actions/checkout@v4
            # 如果您的主题使用了 Git 子模块 (submodules)，取消下面这行的注释
            # with:
            #   submodules: true

          - name: Setup Ruby, Gems and Bundle 💎
            uses: ruby/setup-ruby@v1
            with:
              ruby-version: '3.1' # 指定您希望使用的 Ruby 版本。与您本地版本匹配或一个稳定的新版本。
                                 # '3.1' 是 GitHub Actions 目前推荐的 Jekyll 版本之一。
                                 # 如果您本地是 Ruby 3.3.x，也可以尝试指定 '3.3'，但 '3.1' 通常很稳定。
              bundler-cache: true # 会自动运行 bundle install 并缓存 gems

          - name: Build Jekyll site 🛠️
            run: bundle exec jyll build
            env:
              JEKYLL_ENV: production

          - name: Upload Pages artifact ⬆️
            uses: actions/upload-pages-artifact@v3
            # 构建好的站点会在 _site 目录，这是默认的，所以不需要指定 path

          - name: Deploy to GitHub Pages 🚀
            id: deployment
            uses: actions/deploy-pages@v4
            # 无需额外配置，它会自动从 'upload-pages-artifact' 获取构建产物并部署

    # 如果您在仓库设置中启用了 Pages，并且选择了从 Actions 构建，
    # 那么这个 permissions 部分是需要的。
    permissions:
      contents: read
      pages: write
      id-token: write